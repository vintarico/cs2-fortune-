âŒ ERRO: "Network Error" no Frontend
Sintomas:

Login nÃ£o funciona

Saldo nÃ£o carrega

Console mostra: Network Error ou ERR_CONNECTION_REFUSED

Causas PossÃ­veis:

Backend nÃ£o estÃ¡ rodando

URL incorreta no .env.local

CORS bloqueando requisiÃ§Ãµes

SoluÃ§Ãµes:

âœ… 1. Verificar se backend estÃ¡ online

bash
# Teste direto no navegador
https://seu-backend.up.railway.app/health

# Deve retornar:
{"status":"OK","timestamp":"..."}
âœ… 2. Verificar variÃ¡vel de ambiente

bash
# Frontend: .env.local
NEXT_PUBLIC_API_URL=https://seu-backend.up.railway.app

# SEM barra no final!
# âœ… Correto: https://api.exemplo.com
# âŒ Errado:  https://api.exemplo.com/
âœ… 3. Reconstruir frontend

bash
cd frontend
rm -rf .next
npm run build
npm run dev
âœ… 4. Verificar CORS no Railway

text
FRONTEND_URL=https://seu-site.vercel.app
âŒ ERRO: "Token invÃ¡lido" ou "Token expirado"
Sintomas:

Logout automÃ¡tico

Acesso negado em rotas protegidas

Console: 403 Forbidden

SoluÃ§Ãµes:

âœ… 1. Limpar storage e fazer novo login

javascript
// No console do navegador (F12)
localStorage.clear()
// Depois faÃ§a login novamente
âœ… 2. Verificar SECRET_KEY no backend

text
# Railway â†’ Variables
SECRET_KEY=mesma_chave_que_voce_usou_antes
âš ï¸ Se mudar o SECRET_KEY, todos os tokens antigos ficam invÃ¡lidos!

âŒ ERRO: "Prisma Client nÃ£o inicializado"
Sintomas:

text
PrismaClientInitializationError: Prisma Client could not locate the binaries
SoluÃ§Ãµes:

âœ… 1. Gerar cliente Prisma

bash
cd backend
npx prisma generate
âœ… 2. No Railway, adicionar ao Build Command

bash
npm install && npx prisma generate && npx prisma migrate deploy
âœ… 3. Reinstalar dependÃªncias

bash
rm -rf node_modules
rm package-lock.json
npm install
âŒ ERRO: "Table does not exist"
Sintomas:

text
Error: Table 'User' does not exist in the current database
SoluÃ§Ãµes:

âœ… 1. Executar migrations

bash
# Local
npx prisma migrate dev

# Railway (via CLI)
railway run npx prisma migrate deploy
âœ… 2. Reset completo do banco (âš ï¸ APAGA DADOS)

bash
npx prisma migrate reset
npx prisma migrate dev
âœ… 3. Verificar DATABASE_URL

text
# Formato correto:
DATABASE_URL=postgresql://user:pass@host:5432/database?schema=public
âŒ ERRO: "Port 3001 already in use"
Sintomas:

text
Error: listen EADDRINUSE: address already in use :::3001
SoluÃ§Ãµes:

âœ… Linux/Mac:

bash
# Encontrar processo
lsof -ti:3001

# Matar processo
lsof -ti:3001 | xargs kill -9

# Ou usar outra porta
PORT=3002 npm start
âœ… Windows:

text
# Encontrar PID
netstat -ano | findstr :3001

# Matar processo (substitua PID)
taskkill /PID 12345 /F
âŒ ERRO: Build falha no Vercel
Sintomas:

text
Error: Module not found: Can't resolve 'axios'
SoluÃ§Ãµes:

âœ… 1. Verificar package.json

json
{
  "dependencies": {
    "axios": "^1.4.0",
    "next": "^13.0.0",
    "react": "^18.0.0"
  }
}
âœ… 2. Limpar cache do Vercel

VÃ¡ em Settings â†’ Advanced

Click em "Clear Cache"

Redeploy

âœ… 3. Verificar Node version

json
// package.json
{
  "engines": {
    "node": ">=16.x"
  }
}
âŒ ERRO: Railway build falha
Sintomas:

text
Error: Cannot find module '@prisma/client'
SoluÃ§Ãµes:

âœ… 1. Build Command correto

bash
npm install && npx prisma generate && npx prisma migrate deploy
âœ… 2. Start Command correto

bash
npm start
âœ… 3. Verificar package.json

json
{
  "scripts": {
    "start": "node index.js"
  }
}
âŒ ERRO: CORS bloqueado
Sintomas:

text
Access to XMLHttpRequest blocked by CORS policy
SoluÃ§Ãµes:

âœ… 1. Verificar variÃ¡vel FRONTEND_URL no Railway

text
FRONTEND_URL=https://seu-site.vercel.app
âœ… 2. CÃ³digo CORS no index.js

javascript
app.use(cors({
  origin: process.env.FRONTEND_URL,
  credentials: true
}));
âœ… 3. Permitir mÃºltiplas origens

javascript
const allowedOrigins = [
  'http://localhost:3000',
  'https://seu-site.vercel.app',
  'https://seu-dominio.com'
];

app.use(cors({
  origin: (origin, callback) => {
    if (!origin || allowedOrigins.includes(origin)) {
      callback(null, true);
    } else {
      callback(new Error('CORS not allowed'));
    }
  },
  credentials: true
}));
âŒ ERRO: PÃ¡gina em branco no Vercel
Sintomas:

Site carrega mas fica em branco

Console: Erros de JavaScript

SoluÃ§Ãµes:

âœ… 1. Verificar console do navegador (F12)

Procure por erros em vermelho

Anote a linha e arquivo do erro

âœ… 2. Testar build local

bash
npm run build
npm start
# Acessar localhost:3000
âœ… 3. Verificar importaÃ§Ãµes

javascript
// âœ… Correto
import Navbar from '../components/Navbar'

// âŒ Errado (case-sensitive)
import navbar from '../components/navbar'
âŒ ERRO: Admin nÃ£o consegue acessar painel
Sintomas:

json
{"error":"Acesso negado - Admin apenas"}
SoluÃ§Ãµes:

âœ… 1. Verificar campo isAdmin no banco

bash
# Railway â†’ PostgreSQL â†’ Connect
# Ou local: npx prisma studio

# Alterar usuÃ¡rio para admin:
UPDATE "User" SET "isAdmin" = true WHERE "steamId" = 'SEU_STEAM_ID';
âœ… 2. Via Prisma Studio

bash
npx prisma studio
# Abra tabela User
# Edite o usuÃ¡rio
# Marque isAdmin = true
âœ… 3. Criar rota temporÃ¡ria de setup

javascript
// Adicionar ao index.js (REMOVER DEPOIS!)
app.post('/api/setup-admin', async (req, res) => {
  const { steamId } = req.body;
  const user = await prisma.user.update({
    where: { steamId },
    data: { isAdmin: true }
  });
  res.json(user);
});
Teste:

bash
curl -X POST https://seu-backend.up.railway.app/api/setup-admin \
  -H "Content-Type: application/json" \
  -d '{"steamId":"76561198000000001"}'
âŒ ERRO: Imagens nÃ£o carregam
Sintomas:

Ãcones quebrados

404 em /images/...

SoluÃ§Ãµes:

âœ… 1. Verificar pasta public/

text
frontend/
â””â”€â”€ public/
    â””â”€â”€ images/
        â”œâ”€â”€ logo.png
        â””â”€â”€ case-skins/
âœ… 2. Caminho correto no cÃ³digo

jsx
// âœ… Correto
<img src="/images/logo.png" alt="Logo" />

// âŒ Errado
<img src="./images/logo.png" alt="Logo" />
<img src="images/logo.png" alt="Logo" />
âœ… 3. Next.js Image (recomendado)

jsx
import Image from 'next/image'

<Image 
  src="/images/logo.png" 
  alt="Logo" 
  width={200} 
  height={50}
/>
âŒ ERRO: Database connection timeout
Sintomas:

text
Error: Can't reach database server
SoluÃ§Ãµes:

âœ… 1. Verificar URL do banco

bash
# Railway â†’ PostgreSQL â†’ Variables â†’ DATABASE_URL
# Copiar exatamente como estÃ¡
âœ… 2. Testar conexÃ£o

bash
npx prisma db pull
# Se funcionar, conexÃ£o OK
âœ… 3. Reiniciar banco no Railway

PostgreSQL â†’ Settings â†’ Restart

ğŸ› DEBUG AVANÃ‡ADO
Habilitar logs detalhados
Backend:

javascript
// index.js - adicionar no topo
app.use((req, res, next) => {
  console.log(`${new Date().toISOString()} - ${req.method} ${req.path}`);
  next();
});
Prisma:

javascript
const prisma = new PrismaClient({
  log: ['query', 'info', 'warn', 'error'],
});
Testar endpoints manualmente
bash
# Login
curl -X POST https://seu-backend.up.railway.app/api/login/steam \
  -H "Content-Type: application/json" \
  -d '{"steamId":"76561198000000001","username":"Test"}'

# Salvar token
TOKEN="eyJhbGciOiJIUzI1NiIs..."

# Obter saldo
curl https://seu-backend.up.railway.app/api/saldo \
  -H "Authorization: Bearer $TOKEN"
ğŸ“ SUPORTE
Se nenhuma soluÃ§Ã£o funcionou:

Verifique logs do Railway:

bash
railway logs
Verifique logs do Vercel:

Dashboard â†’ Seu projeto â†’ Deployments â†’ Ãšltimo deploy â†’ View Function Logs

Abra issue no GitHub com:

DescriÃ§Ã£o do erro

Logs completos

Passos para reproduzir

âœ… CHECKLIST FINAL
Antes de abrir chamado, verifique:

 Backend responde em /health

 NEXT_PUBLIC_API_URL estÃ¡ correta

 FRONTEND_URL no Railway estÃ¡ correta

 DATABASE_URL estÃ¡ conectada

 Migrations foram executadas

 Token JWT estÃ¡ sendo salvo no localStorage

 CORS estÃ¡ configurado

 NÃ£o hÃ¡ erros no console do navegador (F12)

 Build local funciona (npm run build)

ğŸ’¡ Dica: 90% dos problemas sÃ£o resolvidos com:

Rebuild do projeto

Limpar cache

Verificar variÃ¡veis de ambiente