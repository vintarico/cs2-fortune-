â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ–¼ï¸ SISTEMA DE IMAGENS REAIS DAS SKINS - CS2 FORTUNE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Data: 26 de Outubro de 2025

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ OBJETIVO:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Exibir as IMAGENS REAIS das skins do CS2, extraÃ­das diretamente do
Steam Community Market, como mostrado no site de referÃªncia (Fracture Case).

ReferÃªncia Visual: 
âœ… Imagens em alta qualidade das skins
âœ… Fallback para Ã­cones quando imagem nÃ£o carregar
âœ… Loading state enquanto busca a imagem
âœ… Efeito glow baseado na raridade

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”§ IMPLEMENTAÃ‡ÃƒO TÃ‰CNICA:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. âœ… BACKEND - Busca de Imagens
   ğŸ“‚ services/steamMarket.js
   
   Nova FunÃ§Ã£o: fetchImageFromSteamPage()
   
   Como Funciona:
   1. Acessa a pÃ¡gina do Steam Market da skin
   2. Extrai a URL da imagem do HTML usando regex
   3. Salva em cache por 30 minutos
   4. Retorna URL completa da imagem em alta resoluÃ§Ã£o
   
   Exemplo de URL retornada:
   https://community.cloudflare.steamstatic.com/economy/image/
   -9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpou-6kejhnwMzFJTwW09-5lpKKqPrxN7LEmyVQ7MEpiLuSrYmnjQO3-UdsZGHxJNSVdlI2aQzV-FLswu3s1J--vsvIwSdh7nUi5yzUgVXp1gYMMLJE0bHBBQ/360fx360f
   
   Regex Usado:
   ```javascript
   const imageMatch = html.match(
     /https:\/\/community\.cloudflare\.steamstatic\.com\/economy\/image\/[^"'\s]+/i
   );
   ```

2. âœ… FRONTEND - Componente SkinImage
   ğŸ“‚ components/SkinImage.js
   
   Como Funciona:
   1. Recebe o nome da skin
   2. Converte para nome Steam Market (via skinNameMapper)
   3. Faz requisiÃ§Ã£o para /api/steam/skin
   4. Recebe URL da imagem real
   5. Renderiza com loading state
   6. Fallback para Ã­cone se falhar
   
   Props:
   - skinName: 'AK-47 | Redline'
   - size: 'small' | 'medium' | 'large' | 'xlarge'
   - className: Classes CSS customizadas
   - showName: Mostrar nome abaixo
   - rarity: Para efeito de glow colorido

3. âœ… API ENDPOINT
   ğŸ“‚ index.js (Backend)
   
   GET /api/steam/skin?name=AK-47%20%7C%20Redline%20(Field-Tested)
   
   Resposta:
   ```json
   {
     "name": "AK-47 | Redline (Field-Tested)",
     "price": {
       "usd": 15.50,
       "brl": 77.50,
       "formatted_brl": "R$ 77.50"
     },
     "image": "https://community.cloudflare.steamstatic.com/economy/image/...",
     "steam_url": "https://steamcommunity.com/market/listings/730/..."
   }
   ```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š FLUXO COMPLETO DE BUSCA DE IMAGEM:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FRONTEND:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <SkinImage skinName="AK-47 | Redline"/> â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€> skinNameMapper.js
               â”‚   'AK-47 | Redline' â†’ 'AK-47 | Redline (Field-Tested)'
               â”‚
               â”œâ”€> useEffect - Fetch API
               â”‚   GET http://localhost:3001/api/steam/skin?name=...
               â”‚
               â–¼

BACKEND:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Route: /api/steam/skin                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€> steamMarket.getSkinData()
               â”‚
               â”œâ”€> fetchImageFromSteamPage()
               â”‚   â”œâ”€> Verifica cache (30min)
               â”‚   â”œâ”€> Se nÃ£o em cache:
               â”‚   â”‚   â””â”€> Busca HTML da pÃ¡gina Steam
               â”‚   â”‚       â””â”€> Extrai URL da imagem (regex)
               â”‚   â”‚           â””â”€> Salva em cache
               â”‚   â””â”€> Retorna URL
               â”‚
               â”œâ”€> getSteamPrice()
               â”‚   â””â”€> Busca preÃ§o real
               â”‚
               â””â”€> Retorna JSON completo
                   {name, price, image, steam_url}

FRONTEND (continuaÃ§Ã£o):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Recebe resposta JSON                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€> setImageUrl(data.image)
               â”‚
               â”œâ”€> Renderiza <img src={imageUrl} />
               â”‚
               â”œâ”€> onLoad â†’ setImageLoaded(true)
               â”‚   â””â”€> Esconde spinner
               â”‚       â””â”€> Mostra imagem com animaÃ§Ã£o
               â”‚
               â””â”€> onError â†’ setImageError(true)
                   â””â”€> Mostra Ã­cone fallback

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¨ EXEMPLOS DE USO:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Grid de Skins (Lista de ConteÃºdo da Caixa)
   ```jsx
   <SkinImage
     skinName="AK-47 | Redline"
     size="small"
     className="w-20 h-20"
     rarity="legendary"
   />
   ```

2. Item Ganho (Modal Grande)
   ```jsx
   <SkinImage
     skinName={wonItem.name}
     size="large"
     className="w-48 h-48"
     rarity={wonItem.rarity}
     showName={true}
   />
   ```

3. Showcase de Skin
   ```jsx
   <SkinImage
     skinName="AWP | Dragon Lore"
     size="xlarge"
     className="w-full h-96"
     rarity="contraband"
   />
   ```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš¡ PERFORMANCE E OTIMIZAÃ‡ÃƒO:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Cache Backend (30 minutos)
   - Evita requisiÃ§Ãµes repetidas Ã  Steam
   - Melhora tempo de resposta
   - Reduz chance de rate limit

âœ… Lazy Loading
   - Imagens sÃ³ carregam quando visÃ­veis
   - Propriedade loading="lazy" nas tags <img>

âœ… Estados de Loading
   - Spinner enquanto busca
   - Ãcone enquanto carrega
   - TransiÃ§Ã£o suave ao aparecer

âœ… Error Handling
   - Fallback automÃ¡tico para Ã­cone
   - NÃ£o quebra interface
   - Console.log para debug

âœ… RequisiÃ§Ãµes AssÃ­ncronas
   - useEffect gerencia lifecycle
   - NÃ£o bloqueia renderizaÃ§Ã£o
   - Cancelamento automÃ¡tico no unmount

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” DEBUGGING:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Console Logs do Backend:
ğŸ” Buscando preÃ§o: AK-47 | Redline (Field-Tested)
âœ… AK-47 | Redline: R$ 221.00
ğŸ–¼ï¸ Imagem encontrada: AK-47 | Redline (Field-Tested)

Console Logs do Frontend:
ğŸ” Buscando imagem de: AK-47 | Redline
âœ… URL recebida: https://community.cloudflare.steamstatic.com/...
ğŸ–¼ï¸ Imagem carregada com sucesso!

Se der erro:
âŒ Erro ao buscar imagem de AK-47 | Redline: [mensagem]
âš ï¸ Usando fallback: Ã­cone âš¡

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ› TROUBLESHOOTING:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ PROBLEMA: Imagem nÃ£o aparece, sÃ³ Ã­cone

   SoluÃ§Ã£o 1: Verifique console do backend
   â†’ A Steam pode estar bloqueando (429 - Too Many Requests)
   â†’ Aumentar delay entre requisiÃ§Ãµes
   â†’ Aguardar alguns minutos

   SoluÃ§Ã£o 2: Verifique nome da skin
   â†’ Usar skinNameMapper para converter
   â†’ Verificar se nome estÃ¡ no formato exato do Steam
   â†’ Exemplo: "AK-47 | Redline (Field-Tested)" nÃ£o "AK47 Redline"

   SoluÃ§Ã£o 3: CORS
   â†’ Backend deve permitir requisiÃ§Ãµes do frontend
   â†’ Verificar headers no index.js (jÃ¡ configurado)

âŒ PROBLEMA: Loading infinito

   SoluÃ§Ã£o: Verificar conexÃ£o com backend
   â†’ Backend rodando em http://localhost:3001?
   â†’ Endpoint /api/steam/skin funcionando?
   â†’ Testar manualmente: 
     curl http://localhost:3001/api/steam/skin?name=AK-47%20|%20Redline

âŒ PROBLEMA: Todas as imagens mostram Ã­cones

   SoluÃ§Ã£o: Cache ou rate limit da Steam
   â†’ Limpar cache: clearExpiredCache()
   â†’ Aguardar 1-2 minutos
   â†’ Testar com poucas skins primeiro

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ PRÃ“XIMOS PASSOS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. âœ… Sistema de imagens implementado
2. â³ Testar com skins reais das caixas
3. â³ Adicionar mais skins por caixa
4. â³ Otimizar cache de imagens
5. â³ Implementar pre-loading de imagens populares

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ STATUS ATUAL:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Backend: Busca imagens da Steam Market (HTML scraping)
âœ… Frontend: Componente SkinImage com loading/error states
âœ… API: Endpoint /api/steam/skin retornando imagem + preÃ§o
âœ… Cache: 30 minutos para imagens e preÃ§os
âœ… Fallback: Ãcones animados quando imagem nÃ£o disponÃ­vel
âœ… Performance: Lazy loading + estados assÃ­ncronos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ® PRONTO PARA TESTAR!

Acesse: http://localhost:3000/cases
Clique em qualquer caixa
Veja as imagens REAIS das skins carregando

Se alguma skin nÃ£o carregar:
- Verifique o console para logs
- Nome pode estar incorreto no skinNameMapper
- Steam pode ter bloqueado temporariamente (rate limit)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
