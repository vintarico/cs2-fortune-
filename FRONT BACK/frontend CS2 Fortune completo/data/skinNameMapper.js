// ═══════════════════════════════════════════════════════════════
// 🔄 MAPEAMENTO DE NOMES DE SKINS PARA STEAM MARKET
// ═══════════════════════════════════════════════════════════════

/**
 * Mapeia nomes simples das skins para o formato exato do Steam Market
 * Formato Steam: "Arma | Nome da Skin (Condição)"
 */
export const SKIN_NAME_TO_STEAM = {
  // Glock-18
  'Glock-18 | Vogue': 'Glock-18 | Vogue (Minimal Wear)',
  'Glock-18 | Sand Dune': 'Glock-18 | Sand Dune (Battle-Scarred)',
  'Glock-18 | Fade': 'Glock-18 | Fade (Factory New)',
  'Glock-18 | Water Elemental': 'Glock-18 | Water Elemental (Minimal Wear)',
  
  // USP-S
  'USP-S | Kill Confirmed': 'USP-S | Kill Confirmed (Minimal Wear)',
  'USP-S | Neo-Noir': 'USP-S | Neo-Noir (Factory New)',
  'USP-S | Cortex': 'USP-S | Cortex (Factory New)',
  
  // P250
  'P250 | Sand Dune': 'P250 | Sand Dune (Battle-Scarred)',
  'P250 | Visions': 'P250 | Visions (Minimal Wear)',
  
  // Desert Eagle
  'Desert Eagle | Blaze': 'Desert Eagle | Blaze (Factory New)',
  'Desert Eagle | Printstream': 'Desert Eagle | Printstream (Minimal Wear)',
  
  // AK-47
  'AK-47 | Redline': 'AK-47 | Redline (Field-Tested)',
  'AK-47 | Fire Serpent': 'AK-47 | Fire Serpent (Field-Tested)',
  'AK-47 | Vulcan': 'AK-47 | Vulcan (Minimal Wear)',
  'AK-47 | Neon Rider': 'AK-47 | Neon Rider (Minimal Wear)',
  'AK-47 | Empress': 'AK-47 | Empress (Factory New)',
  'AK-47 | Safari Mesh': 'AK-47 | Safari Mesh (Field-Tested)',
  
  // M4A4
  'M4A4 | Howl': 'M4A4 | Howl (Field-Tested)',
  'M4A4 | Asiimov': 'M4A4 | Asiimov (Field-Tested)',
  'M4A4 | Neo-Noir': 'M4A4 | Neo-Noir (Field-Tested)',
  'M4A4 | The Emperor': 'M4A4 | The Emperor (Minimal Wear)',
  'M4A4 | Desolate Space': 'M4A4 | Desolate Space (Field-Tested)',
  
  // M4A1-S
  'M4A1-S | Hyper Beast': 'M4A1-S | Hyper Beast (Minimal Wear)',
  'M4A1-S | Golden Coil': 'M4A1-S | Golden Coil (Minimal Wear)',
  'M4A1-S | Icarus Fell': 'M4A1-S | Icarus Fell (Factory New)',
  'M4A1-S | Printstream': 'M4A1-S | Printstream (Minimal Wear)',
  
  // AWP
  'AWP | Asiimov': 'AWP | Asiimov (Field-Tested)',
  'AWP | Dragon Lore': 'AWP | Dragon Lore (Factory New)',
  'AWP | Fade': 'AWP | Fade (Factory New)',
  'AWP | Hyper Beast': 'AWP | Hyper Beast (Minimal Wear)',
  'AWP | Neo-Noir': 'AWP | Neo-Noir (Factory New)',
  'AWP | Oni Taiji': 'AWP | Oni Taiji (Minimal Wear)',
  'AWP | Worm God': 'AWP | Worm God (Field-Tested)',
  'AWP | Medusa': 'AWP | Medusa (Field-Tested)',
  'AWP | Gungnir': 'AWP | Gungnir (Factory New)',
  
  // P90
  'P90 | Elite Build': 'P90 | Elite Build (Field-Tested)',
  'P90 | Asiimov': 'P90 | Asiimov (Minimal Wear)',
  'P90 | Death by Kitty': 'P90 | Death by Kitty (Minimal Wear)',
  'P90 | Run and Hide': 'P90 | Run and Hide (Minimal Wear)',
  
  // MAC-10
  'MAC-10 | Neon Rider': 'MAC-10 | Neon Rider (Minimal Wear)',
  'MAC-10 | Fade': 'MAC-10 | Fade (Factory New)',
  
  // MP9
  'MP9 | Hot Rod': 'MP9 | Hot Rod (Factory New)',
  'MP9 | Starlight Protector': 'MP9 | Starlight Protector (Minimal Wear)',
  'MP9 | Wild Lily': 'MP9 | Wild Lily (Factory New)',
  
  // MP7
  'MP7 | Army Recon': 'MP7 | Army Recon (Field-Tested)',
  'MP7 | Full Treacs': 'MP7 | Full Stop (Minimal Wear)',
  
  // UMP-45
  'UMP-45 | Urban DDPAT': 'UMP-45 | Urban DDPAT (Field-Tested)',
  'UMP-45 | Primal Saber': 'UMP-45 | Primal Saber (Minimal Wear)',
  
  // MAG-7
  'MAG-7 | Sand Dune': 'MAG-7 | Sand Dune (Battle-Scarred)',
  
  // Nova
  'Nova | Sand Dune': 'Nova | Sand Dune (Battle-Scarred)',
  
  // SSG 08
  'SSG 08 | Big Iron': 'SSG 08 | Big Iron (Minimal Wear)',
  'SSG 08 | Parallax': 'SSG 08 | Parallax (Factory New)',
  
  // Galil AR
  'Galil AR | Eco': 'Galil AR | Eco (Field-Tested)',
  
  // Tec-9
  'Tec-9 | Army Mesh': 'Tec-9 | Army Mesh (Field-Tested)',
  
  // CZ75-Auto
  'CZ75-Auto | Crimson Web': 'CZ75-Auto | Crimson Web (Minimal Wear)',
  
  // Five-SeveN
  'Five-SeveN | Monkey Business': 'Five-SeveN | Monkey Business (Minimal Wear)',
  
  // Dual Berettas
  'Dual Berettas | Tread': 'Dual Berettas | Black Limba (Factory New)',
  
  // Facas (Knives)
  'Faca Falchion': '★ Falchion Knife',
  'Faca Navaja': '★ Navaja Knife',
  'Karambit | Tiger Tooth': '★ Karambit | Tiger Tooth (Factory New)',
  'Karambit | Fade': '★ Karambit | Fade (Factory New)',
  'Karambit | Doppler': '★ Karambit | Doppler (Factory New)',
  'M9 Bayonet | Marble Fade': '★ M9 Bayonet | Marble Fade (Factory New)',
  'M9 Bayonet | Fade': '★ M9 Bayonet | Fade (Factory New)',
  'Butterfly Knife | Fade': '★ Butterfly Knife | Fade (Factory New)',
  'Butterfly Knife | Doppler': '★ Butterfly Knife | Doppler (Factory New)',
  
  // Luvas (Gloves)
  'Sport Gloves | Pandora Box': '★ Sport Gloves | Pandora\'s Box (Field-Tested)',
  'Specialist Gloves | Crimson Kimono': '★ Specialist Gloves | Crimson Kimono (Minimal Wear)',
  'Specialist Gloves | Hedge Maze': '★ Specialist Gloves | Hedge Maze (Field-Tested)',
  
  // Outros
  'XMXD14 | Estensched': 'XM1014 | Entombed (Field-Tested)',
  'M4A4 | Tooth Fairy': 'M4A4 | Tooth Fairy (Factory New)',
  'Saved-Off | Spirit Board': 'Sawed-Off | Spirit Board (Factory New)',
  'Bill Revolver | Junk Yard': 'R8 Revolver | Junk Yard (Minimal Wear)',
  'Negev | Ultralight': 'Negev | Ultralight (Factory New)',
  'AK-47 | Leet Museo': 'AK-47 | Leet Museo (Factory New)',
};

/**
 * Converte nome da skin para formato Steam Market
 */
export function getSteamMarketName(skinName) {
  // Remove emojis e texto extra
  let cleanName = skinName.trim();
  
  // Tenta encontrar mapeamento direto
  if (SKIN_NAME_TO_STEAM[cleanName]) {
    return SKIN_NAME_TO_STEAM[cleanName];
  }
  
  // Tenta variações
  for (const [key, value] of Object.entries(SKIN_NAME_TO_STEAM)) {
    if (cleanName.includes(key) || key.includes(cleanName)) {
      return value;
    }
  }
  
  // Se não encontrou, tenta adicionar condição padrão
  if (cleanName.includes('|') && !cleanName.includes('(')) {
    return `${cleanName} (Field-Tested)`;
  }
  
  // Retorna o nome original se não encontrou
  return cleanName;
}

/**
 * Obtém icon_url da skin configurada
 * Nota: Para uso no frontend, as URLs já estão mapeadas nas configurações das skins
 */
export function getSkinIconUrl(skinName) {
  // Esta função pode ser expandida no futuro
  // Por enquanto, retorna null e deixa o backend resolver
  return null;
}

export default SKIN_NAME_TO_STEAM;
